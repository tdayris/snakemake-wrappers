

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>The Unofficial Snakemake Wrappers repository &mdash; Snakemake Wrappers heads/Unofficial documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Wrappers" href="wrappers.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> Snakemake Wrappers
          

          
          </a>

          
            
            
              <div class="version">
                heads/Unofficial
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Wrappers, Meta-Wrappers and Pipelines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="wrappers.html">Wrappers</a></li>
<li class="toctree-l1"><a class="reference internal" href="meta-wrappers.html">Meta-Wrappers</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipelines.html">BiGR Pipelines</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Snakemake Wrappers</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>The Unofficial Snakemake Wrappers repository</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-unofficial-snakemake-wrappers-repository">
<h1>The Unofficial Snakemake Wrappers repository<a class="headerlink" href="#the-unofficial-snakemake-wrappers-repository" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="http://snakemake.readthedocs.io"><img alt="https://img.shields.io/badge/snakemake-≥5.7.0-brightgreen.svg?style=flat-square" src="https://img.shields.io/badge/snakemake-≥5.7.0-brightgreen.svg?style=flat-square" /></a>
<a class="reference external image-reference" href="https://github.com/snakemake/snakemake-wrappers/actions?query=branch%3Amaster+workflow%3ATests"><img alt="https://github.com/snakemake/snakemake-wrappers/workflows/Tests/badge.svg?branch=master" src="https://github.com/snakemake/snakemake-wrappers/workflows/Tests/badge.svg?branch=master" /></a>
<p>The Snakemake Wrapper Repository is a collection of reusable wrappers that allow to quickly use popular tools
from <a class="reference external" href="https://snakemake.readthedocs.io">Snakemake</a> rules and workflows.</p>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The general strategy is to include a wrapper into your workflow via the <a class="reference external" href="http://snakemake.readthedocs.io/en/latest/snakefiles/modularization.html?highlight=wrapper#wrappers">wrapper</a> directive, e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rule</span> <span class="n">samtools_sort</span><span class="p">:</span>
    <span class="nb">input</span><span class="p">:</span>
        <span class="s2">&quot;mapped/</span><span class="si">{sample}</span><span class="s2">.bam&quot;</span>
    <span class="n">output</span><span class="p">:</span>
        <span class="s2">&quot;mapped/</span><span class="si">{sample}</span><span class="s2">.sorted.bam&quot;</span>
    <span class="n">params</span><span class="p">:</span>
        <span class="s2">&quot;-m 4G&quot;</span>
    <span class="n">threads</span><span class="p">:</span> <span class="mi">8</span>
    <span class="n">wrapper</span><span class="p">:</span>
        <span class="s2">&quot;0.2.0/bio/samtools/sort&quot;</span>
</pre></div>
</div>
<p>Here, Snakemake will automatically download the corresponding wrapper from <a class="reference external" href="https://github.com/snakemake/snakemake-wrappers/tree/0.2.0/bio/samtools/sort">https://github.com/snakemake/snakemake-wrappers/tree/0.2.0/bio/samtools/sort</a>. Thereby, 0.2.0 can be replaced with the <a class="reference external" href="https://github.com/snakemake/snakemake-wrappers/releases">version tag</a> you want to use, or a <a class="reference external" href="https://github.com/snakemake/snakemake-wrappers/commits/master">commit id</a>. This ensures reproducibility since changes in the wrapper implementation won’t be propagated automatically to your workflow. Alternatively, e.g., for development, the wrapper directive can also point to full URLs, including the local <code class="docutils literal notranslate"><span class="pre">file://</span></code>.</p>
<p>Each wrapper defines required software packages and versions. In combination with the <code class="docutils literal notranslate"><span class="pre">--use-conda</span></code> flag of Snakemake, these will be deployed automatically.</p>
</div>
<div class="section" id="contribute">
<h2>Contribute<a class="headerlink" href="#contribute" title="Permalink to this headline">¶</a></h2>
<p>We invite anybody to contribute to the Snakemake Wrapper Repository.
If you want to contribute we suggest the following procedure:</p>
<ol class="arabic simple">
<li><p>Fork the repository: <a class="reference external" href="https://github.com/snakemake/snakemake-wrappers">https://github.com/snakemake/snakemake-wrappers</a></p></li>
<li><p>Clone your fork locally.</p></li>
<li><p>Locally, create a new branch: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">my-new-snakemake-wrapper</span></code></p></li>
<li><p>Commit your contributions to that branch and push them to your fork: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">-u</span> <span class="pre">origin</span> <span class="pre">my-new-snakemake-wrapper</span></code></p></li>
<li><p>Create a pull request.</p></li>
</ol>
<p>The pull request will be reviewed and included as fast as possible.
Contributions should follow the coding style of the already present examples, i.e.:</p>
<ul class="simple">
<li><p>provide a <code class="docutils literal notranslate"><span class="pre">meta.yaml</span></code> with name, description and author(s) of the wrapper</p></li>
<li><p>provide an <code class="docutils literal notranslate"><span class="pre">environment.yaml</span></code> which lists all required software packages (the
packages should be available for installation via the
<a class="reference external" href="https://anaconda.org/anaconda">default anaconda channels</a> or via the
<a class="reference external" href="https://conda.io/docs/">conda</a> channels
<a class="reference external" href="https://bioconda.github.io/recipes.html">bioconda</a> or
<a class="reference external" href="https://conda-forge.org/feedstocks/">conda-forge</a>.
Other sustainable community maintained channels are possible as well.)</p></li>
<li><p>provide a minimal test case in a subfolder called <code class="docutils literal notranslate"><span class="pre">test</span></code>, with an example
<code class="docutils literal notranslate"><span class="pre">Snakefile</span></code> that shows how to use the wrapper, some minimal testing data
(also check existing wrappers for suitable data) and add an invocation of the
test in <code class="docutils literal notranslate"><span class="pre">test.py</span></code></p></li>
<li><p>follow the python <a class="reference external" href="http://legacy.python.org/dev/peps/pep-0008">style guide</a>,
using 4 spaces for indentation.</p></li>
</ul>
<div class="section" id="testing-locally">
<h3>Testing locally<a class="headerlink" href="#testing-locally" title="Permalink to this headline">¶</a></h3>
<p>If you want to debug your contribution locally, before creating a pull request,
we recommend adding your test case to the start of the list in <code class="docutils literal notranslate"><span class="pre">test.py</span></code>, so
that it runs first. Then, <a class="reference external" href="https://bioconda.github.io/#using-bioconda">install miniconda with the channels as described for
bioconda</a> and set up an
environment with the necessary dependencies and activate it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">test</span><span class="o">-</span><span class="n">snakemake</span><span class="o">-</span><span class="n">wrappers</span> <span class="n">snakemake</span> <span class="n">pytest</span> <span class="n">conda</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">test</span><span class="o">-</span><span class="n">snakemake</span><span class="o">-</span><span class="n">wrappers</span>
</pre></div>
</div>
<p>Afterwards, from the main directory of the repo, you can run the tests with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="n">test</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">v</span>
</pre></div>
</div>
<p>If you use a keyboard interrupt after your test has failed, you will get all
the relevant stdout and stderr messages printed.</p>
<p>If you also want to test the docs generation locally, create another environment
and activate it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">test</span><span class="o">-</span><span class="n">snakemake</span><span class="o">-</span><span class="n">wrapper</span><span class="o">-</span><span class="n">docs</span> <span class="n">sphinx</span> <span class="n">sphinx_rtd_theme</span> <span class="n">pyyaml</span> <span class="n">sphinx</span><span class="o">-</span><span class="n">copybutton</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">test</span><span class="o">-</span><span class="n">snakemake</span><span class="o">-</span><span class="n">wrapper</span><span class="o">-</span><span class="n">docs</span>
</pre></div>
</div>
<p>Then, enter the respective directory and build the docs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">docs</span>
<span class="n">make</span> <span class="n">html</span>
</pre></div>
</div>
<p>If it runs through, you can open the main page at <code class="docutils literal notranslate"><span class="pre">docs/_build/html/index.html</span></code>
in a web browser. If you want to start fresh, you can clean up the build
with <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code>.</p>
<div class="toctree-wrapper compound">
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="wrappers.html" class="btn btn-neutral float-right" title="Wrappers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2016, The Snakemake team.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>